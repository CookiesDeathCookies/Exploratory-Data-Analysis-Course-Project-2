}
create_plot_3()
create_plot_3 <- function() {
information <- transform(information, type = factor(type))
information <- transform(information, baltimore = ifelse(fips == "24510",
"Total", "Baltimore"))
#informationBaltimor <- filter(information, fips == "24510")
information <- group_by(information, year, type, baltimore)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + facet_grid(baltimore ~ ., scales = "free") +
geom_line(aes(color = type)) + labs(y = "Total emissions")
# qplot(year, value, data = values, color = type,
#     geom = c("point", "line"), facets = baltimore ~ .)
}
create_plot_3()
create_plot_3 <- function() {
information <- filter(information, fips = "24510")
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total emissions")
}
create_plot_3()
create_plot_3 <- function() {
information <- filter(information, fips == "24510")
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total emissions")
}
create_plot_3()
create_plot_2 <- function() {
information <- filter(info, fips == "24510")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
with(values, plot(year, value,
ylab = "Total PM2.5 emission", col = "brown", pch = 19))
with(values, lines(year, value))
}
create_plot_2()
list.files()
sources <- readRDS("Source_Classification_Code.rds")
souces <- tbl_df(sources)
info <- tbl_df(info)
sources <- souces
rm(souces)
sources
View(sources)
?gsub
str <- c("First coal company ever!", "Get coal!", "Coal ind.", "Nothing but fuck", "kek")
gsub(str, "coal")
grep(str, "coal")
grep("coal", str)
grep("coal", str, ignore.case = TRUE)
grepl("coal", str, ignore.case = TRUE)
sources
create_plot_4 <- function() {
information <- filter(information, grepl(char(EI.Secotor)) == TRUE)
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4()
information <- info
create_plot_4 <- function() {
information <- filter(information, grepl(char(EI.Sector)) == TRUE)
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4()
create_plot_4 <- function() {
information <- filter(information, grepl(EI.Sector) == TRUE)
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4()
library(dplyr)
create_plot_4()
info
View(info)
length(unique(sources$SCC))
all <- merge(info, sources, by.x = "SCC", by.y = "SCC")
View(all)
length(all)
dim(all)
info
information
sub <- filter(all, grepl(char(EI.Sector)) == TRUE)
?filter
sub <- filter(all, grepl(char(EI.Sector)))
sub <- dplyr.filter(all, grepl(char(EI.Sector)))
sub <- filter(.data = all, grepl(char(EI.Sector)))
sub <- filter(.data = all, grepl(char(EI.Sector)) & TRUE == TRUE)
sub <- filter_(.data = all, grepl(char(EI.Sector)))
sub <- filter_(.data = all, grepl(char(EI.Sector)) == TRUE)
sub <- filter_(all, grepl(char(EI.Sector)) == TRUE)
sub <- filter_(all, fips == "24510")
sub <- filter_(all, all$fips == "24510")
example(filter_)
all
class(all)
all <- tbl_df(all)
all
sub <- filter_(all, fips == "24510")
sub <- filter_(all, all$fips == "24510")
sub <- filter(all, fips == "24510")
class(sub)
sub
sub <- filter(all, grepl(EI.Sector) == TRUE)
sub <- filter(all, grepl(char(EI.Sector)) == TRUE)
sub <- filter_(all, grepl(char(EI.Sector)) == TRUE)
?grepl
sub <- filter_(all, grepl("coal", char(EI.Sector)) == TRUE)
char(12)
as.char(12)
as.character(12)
sub <- filter_(all, grepl("coal", as.character(EI.Sector)) == TRUE)
sub <- transform(sub, EI.Sector = as.character(EI.Sector))
sub <- filter_(all, grepl("coal", as.character(EI.Sector)) == TRUE)
sub <- filter_(all, grepl("coal", EI.Sector) == TRUE)
sub <- filter(all, grepl("coal", EI.Sector) == TRUE)
sub
sub <- filter(all, grepl("coal", EI.Sector, ignore.case = TRUe) == TRUE)
sub <- filter(all, grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
sub
create_plot_4 <- function() {
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4()
create_plot_4 <- function() {
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4()
create_plot_3 <- function() {
information <- filter(information, fips == "24510")
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_3()
create_plot_2 <- function() {
information <- filter(info, fips == "24510")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
with(values, plot(year, value,
ylab = "Total PM2.5 emission", col = "brown", pch = 19))
with(values, lines(year, value))
}
create_plot_2()
create_plot_1 <- function() {
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
with(values, plot(year, value,
ylab = "Total PM2.5 emission", col = "brown", pch = 19))
with(values, lines(year, value))
}
create_plot_1()
create_plot_4()
create_plot_4 <- function() {
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_4()
str <- sources$EI.Sector
head(grep("vehicle", str, value = TRUE, ignore.case = TRUE))
length(grep("vehicle", str, value = TRUE, ignore.case = TRUE))
length(grep("motor", str, value = TRUE, ignore.case = TRUE))
length(grep("road", str, value = TRUE, ignore.case = TRUE))
head(grep("road", str, value = TRUE, ignore.case = TRUE))
unique(sources$EI.Sector)
head(grep("vehicle", unique(sources$EI.Sector), value = TRUE, ignore.case = TRUE))
create_plot_5 <- function() {
information <- filter(information, fips == "24510")
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("vehicle", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from vehicles")
}
create_plot_5()
create_plot_6 <- function() {
information <- filter(information, fips == "24510" | fips == "06037")
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("vehicle", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year, fips)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = fips)) +
labs(y = "Total PM2.5 emissions from vehicles")
}
create_plot_6()
create_plot_6 <- function() {
information <- filter(information, fips == "24510" | fips == "06037")
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
city = ifelse(fips == "24510",
"Baltimore City", "Los Angeles"))
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("vehicle", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year, fips)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = fips)) +
labs(y = "Total PM2.5 emissions from vehicles")
}
create_plot_6()
create_plot_6 <- function() {
information <- filter(information, fips == "24510" | fips == "06037")
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
city = ifelse(fips == "24510",
"Baltimore City", "Los Angeles"))
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("vehicle", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year, city)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = city)) +
labs(y = "Total PM2.5 emissions from vehicles")
}
create_plot_6()
create_plot_1 <- function() {
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
with(values, plot(year, value,
ylab = "Total PM2.5 emission", col = "brown", pch = 19))
with(values, lines(year, value))
}
create_plot_2 <- function() {
information <- filter(info, fips == "24510")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
with(values, plot(year, value,
ylab = "Total PM2.5 emission", col = "brown", pch = 19))
with(values, lines(year, value))
}
create_plot_3 <- function() {
information <- filter(information, fips == "24510")
information <- transform(information, type = factor(type))
information <- group_by(information, year, type)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point(aes(color = type)) + geom_line(aes(color = type)) +
labs(y = "Total PM2.5 emissions")
}
create_plot_4 <- function() {
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_5 <- function() {
information <- filter(information, fips == "24510")
sources <- sources[, 1:4]
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- transform(information,
EI.Sector = as.character(EI.Sector))
information <- filter(information,
grepl("vehicle", EI.Sector, ignore.case = TRUE) == TRUE)
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from vehicles")
}
create_plot_1()
create_plot_2()
create_plot_3()
create_plot_4()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- grep("coal", sources$SCC, value = TRUE)
information <- filter(information,
SCC == goods)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7()
sources
v <- c("2", "5", "7")
v[1]
v["2"]
v[2]
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- grep("coal", sources$SCC, value = TRUE)
information <- filter(information,
SCC %in% goods)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- grep("coal", sources$SCC, value = TRUE)
information <- filter(information,
SCC %in% goods)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- grep("coal", sources$SCC, value = TRUE)
head(goods)
information <- filter(information,
SCC %in% goods)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- grep("coal", sources$SCC, value = TRUE)
head(goods) %>% print
information <- filter(information,
SCC %in% goods)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
s <- c("a", "ab", "bc", "deeeee", "f")
grep("a", s)
grep("a", s, value = TRUE)
goods <- grep("coal", sources$SCC, value = TRUE)
head(goods)
goods
goods <- grep("a", sources$SCC, value = TRUE)
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- filter(sources, grepl("coal", EI.Sector, value = TRUE) == TRUE)
head(goods) %>% print
information <- filter(information,
SCC %in% goods$SCC)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- filter(sources, grepl("coal", EI.Sector) == TRUE)
head(goods) %>% print
information <- filter(information,
SCC %in% goods$SCC)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
goods <- filter(sources, grepl("coal", EI.Sector) == TRUE)
goods
sources
grepl("coal", sources$EI.Sector)
sum(grepl("coal", sources$EI.Sector))
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- filter(sources, grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
head(goods) %>% print
information <- filter(information,
SCC %in% goods$SCC)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line() +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_7 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- filter(sources, grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- filter(information,
SCC %in% goods$SCC)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_7()
create_plot_4 <- function() {
sources <- sources[, 1:4]
sources <- transform(sources,
EI.Sector = as.character(EI.Sector))
goods <- filter(sources, grepl("coal", EI.Sector, ignore.case = TRUE) == TRUE)
information <- filter(information,
SCC %in% goods$SCC)
information <- merge(information, sources, by.x = "SCC", by.y = "SCC")
information <- group_by(information, year)
values <- summarise(information, value = sum(Emissions))
g <- ggplot(values, aes(year, value))
g + geom_point() + geom_line(aes(color = "red")) +
labs(y = "Total PM2.5 emissions from coal")
}
create_plot_4()
